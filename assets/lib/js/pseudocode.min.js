!function(a){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=a();else if("function"==typeof define&&define.amd)define([],a);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).pseudocode=a()}}(function(){return function f(g,h,i){function j(m,n){if(!h[m]){if(!g[m]){var o="function"==typeof require&&require;if(!n&&o)return o(m,!0);if(k)return k(m,!0);var p=new Error("Cannot find module '"+m+"'");throw p.code="MODULE_NOT_FOUND",p}var q=h[m]={exports:{}};g[m][0].call(q.exports,function(r){return j(g[m][1][r]||r)},q,q.exports,f,g,h,i)}return h[m].exports}for(var k="function"==typeof require&&require,l=0;l<i.length;l++)j(i[l]);return j}({1:[function(t,u,v){var w=t("./src/ParseError"),x=t("./src/Lexer"),y=t("./src/Parser"),z=t("./src/Renderer");u.exports={ParseError:w,renderToString:function(A,B){if(null==A)throw"input cannot be empty";var C=new x(A),D=new y(C);return new z(D,B).toMarkup()},render:function(F,G,H){if(null==F)throw"input cannot be empty";var I=new x(F),J=new y(I),L=new z(J,H).toDOM();return G&&G.appendChild(L),L}}},{"./src/Lexer":2,"./src/ParseError":3,"./src/Parser":4,"./src/Renderer":5}],2:[function(M,N,O){function R(W){this._input=W,this._remain=W,this._pos=0,this._nextAtom=this._currentAtom=null,this._next()}var P=M("./utils"),Q=M("./ParseError");R.prototype.accept=function(X,Y){return this._nextAtom.type===X&&this._matchText(Y)?(this._next(),this._currentAtom.text):null},R.prototype.expect=function(Z,$){var _=this._nextAtom;if(_.type!==Z)throw new Q("Expect an atom of "+Z+" but received "+_.type,this._pos,this._input);if(!this._matchText($))throw new Q("Expect `"+$+"` but received `"+_.text+"`",this._pos,this._input);return this._next(),this._currentAtom.text},R.prototype.get=function(){return this._currentAtom};var T={special:/^(\\\\|\\{|\\}|\\\$|\\&|\\#|\\%|\\_)/,math:{exec:function(aa){for(var ba=[{start:"$",end:"$"},{start:"\\(",end:"\\)"}],ca=aa.length,da=0;da<ba.length;da++){var ea=ba[da].start;if(0===aa.indexOf(ea))for(var fa=ba[da].end,ga=ea.length,ha=aa.slice(ga);ga<ca;){var ia=ha.indexOf(fa);if(ia<0)throw new Q("Math environment is not closed",this._pos,this._input);if(!(0<ia&&"\\"===ha[ia-1]))return[aa.slice(0,ga+ia+fa.length),aa.slice(ea.length,ga+ia)];var ja=ia+fa.length;ha=ha.slice(ja),ga+=ja}}return null}},func:/^\\([a-zA-Z]+)/,open:/^\{/,close:/^\}/,quote:/^(`|``|'|'')/,ordinary:/^[^\\{}$&#%_\s]+/},U=/^%.*/,V=/^\s+/;R.prototype._skip=function(la){this._pos+=la,this._remain=this._remain.slice(la)},R.prototype._next=function(){for(var ma=!1;;){var na=V.exec(this._remain);if(na){ma=!0;var oa=na[0].length;this._skip(oa)}var pa=U.exec(this._remain);if(!pa)break;var qa=pa[0].length;this._skip(qa)}if(this._currentAtom=this._nextAtom,""===this._remain)return!(this._nextAtom={type:"EOF",text:null,whitespace:!1});for(var ra in T){var ta=T[ra].exec(this._remain);if(ta){var ua=ta[0],va=ta[1]?ta[1]:ua;return this._nextAtom={type:ra,text:va,whitespace:ma},this._pos+=ua.length,this._remain=this._remain.slice(ta[0].length),!0}}throw new Q("Unrecoganizable atom",this._pos,this._input)},R.prototype._matchText=function(wa){return null==wa||(P.isString(wa)?wa.toLowerCase()===this._nextAtom.text.toLowerCase():0<=(wa=wa.map(function(xa){return xa.toLowerCase()})).indexOf(this._nextAtom.text.toLowerCase()))},N.exports=R},{"./ParseError":3,"./utils":6}],3:[function(ya,za,Aa){function Ba(Ca,Da,Ea){var Fa="Error: "+Ca;if(void 0!==Da&&void 0!==Ea){Fa+=" at position "+Da+": `",Ea=Ea.slice(0,Da)+"↱"+Ea.slice(Da);var Ga=Math.max(0,Da-15),Ha=Da+15;Fa+=Ea.slice(Ga,Ha)+"`"}this.message=Fa}(Ba.prototype=Object.create(Error.prototype)).constructor=Ba,za.exports=Ba},{}],4:[function(Ia,Ja,Ka){function Na(Ta,Ua){this.type=Ta,this.value=Ua,this.children=[]}var La=Ia("./utils"),Ma=Ia("./ParseError");Na.prototype.toString=function(Va){Va=Va||0;for(var Wa="",Xa=0;Xa<Va;Xa++)Wa+="  ";var Ya=Wa+"<"+this.type+">";if(this.value&&(Ya+=" ("+La.toString(this.value)+")"),Ya+="\n",this.children)for(var Za=0;Za<this.children.length;Za++){Ya+=this.children[Za].toString(Va+1)}return Ya},Na.prototype.addChild=function(_a){if(!_a)throw"argument cannot be null";this.children.push(_a)};function Oa(ab,bb,cb){this.type=ab,this.value=bb,this.children=null,this.whitespace=!!cb}Oa.prototype=Na.prototype;function Pa(db){this._lexer=db}Pa.prototype.parse=function(){for(var eb=new Na("root");;){var gb,fb=this._acceptEnvironment();if(null===fb)break;if("algorithm"===fb)gb=this._parseAlgorithmInner();else{if("algorithmic"!==fb)throw new Ma("Unexpected environment "+fb);gb=this._parseAlgorithmicInner()}this._closeEnvironment(fb),eb.addChild(gb)}return this._lexer.expect("EOF"),eb},Pa.prototype._acceptEnvironment=function(){var hb=this._lexer;if(!hb.accept("func","begin"))return null;hb.expect("open");var ib=hb.expect("ordinary");return hb.expect("close"),ib},Pa.prototype._closeEnvironment=function(jb){var kb=this._lexer;kb.expect("func","end"),kb.expect("open"),kb.expect("ordinary",jb),kb.expect("close")},Pa.prototype._parseAlgorithmInner=function(){for(var lb=new Na("algorithm");;){var mb=this._acceptEnvironment();if(null===mb){var ob=this._parseCaption();if(!ob)break;lb.addChild(ob)}else{if("algorithmic"!==mb)throw new Ma("Unexpected environment "+mb);var nb=this._parseAlgorithmicInner();this._closeEnvironment(),lb.addChild(nb)}}return lb},Pa.prototype._parseAlgorithmicInner=function(){for(var qb,pb=new Na("algorithmic");;)if(qb=this._parseCommand(Qa))pb.addChild(qb);else{if(!(0<(qb=this._parseBlock()).children.length))break;pb.addChild(qb)}return pb},Pa.prototype._parseCaption=function(){var rb=this._lexer;if(!rb.accept("func","caption"))return null;var sb=new Na("caption");return rb.expect("open"),sb.addChild(this._parseCloseText()),rb.expect("close"),sb},Pa.prototype._parseBlock=function(){for(var tb=new Na("block");;){var ub=this._parseControl();if(ub)tb.addChild(ub);else{var vb=this._parseFunction();if(vb)tb.addChild(vb);else{var wb=this._parseCommand(Ra);if(wb)tb.addChild(wb);else{var xb=this._parseComment();if(!xb)break;tb.addChild(xb)}}}}return tb},Pa.prototype._parseControl=function(){var yb;return(yb=this._parseIf())?yb:(yb=this._parseLoop())?yb:(yb=this._parseRepeat())?yb:void 0},Pa.prototype._parseFunction=function(){var zb=this._lexer;if(!zb.accept("func",["function","procedure"]))return null;var Ab=this._lexer.get().text;zb.expect("open");var Bb=zb.expect("ordinary");zb.expect("close"),zb.expect("open");var Cb=this._parseCloseText();zb.expect("close");var Db=this._parseBlock();zb.expect("func","end"+Ab);var Eb=new Na("function",{type:Ab,name:Bb});return Eb.addChild(Cb),Eb.addChild(Db),Eb},Pa.prototype._parseIf=function(){if(!this._lexer.accept("func","if"))return null;var Fb=new Na("if");this._lexer.expect("open"),Fb.addChild(this._parseCond()),this._lexer.expect("close"),Fb.addChild(this._parseBlock());for(var Gb=0;this._lexer.accept("func",["elif","elsif","elseif"]);)this._lexer.expect("open"),Fb.addChild(this._parseCond()),this._lexer.expect("close"),Fb.addChild(this._parseBlock()),Gb++;var Hb=!1;return this._lexer.accept("func","else")&&(Hb=!0,Fb.addChild(this._parseBlock())),this._lexer.expect("func","endif"),Fb.value={numElif:Gb,hasElse:Hb},Fb},Pa.prototype._parseLoop=function(){if(!this._lexer.accept("func",["FOR","FORALL","WHILE"]))return null;var Ib=this._lexer.get().text.toLowerCase(),Jb=new Na("loop",Ib);this._lexer.expect("open"),Jb.addChild(this._parseCond()),this._lexer.expect("close"),Jb.addChild(this._parseBlock());var Kb="forall"!==Ib?"end"+Ib:"endfor";return this._lexer.expect("func",Kb),Jb},Pa.prototype._parseRepeat=function(){if(!this._lexer.accept("func",["REPEAT"]))return null;var Lb=this._lexer.get().text.toLowerCase(),Mb=new Na("repeat",Lb);return Mb.addChild(this._parseBlock()),this._lexer.expect("func","until"),this._lexer.expect("open"),Mb.addChild(this._parseCond()),this._lexer.expect("close"),Mb};var Qa=["ensure","require","input","output"],Ra=["state","print","return"];Pa.prototype._parseCommand=function(Nb){if(!this._lexer.accept("func",Nb))return null;var Ob=this._lexer.get().text.toLowerCase(),Pb=new Na("command",Ob);return Pb.addChild(this._parseOpenText()),Pb},Pa.prototype._parseComment=function(){if(!this._lexer.accept("func","comment"))return null;var Qb=new Na("comment");return this._lexer.expect("open"),Qb.addChild(this._parseCloseText()),this._lexer.expect("close"),Qb},Pa.prototype._parseCall=function(){var Rb=this._lexer;if(!Rb.accept("func","call"))return null;var Sb=Rb.get().whitespace;Rb.expect("open");var Tb=Rb.expect("ordinary");Rb.expect("close");var Ub=new Na("call");Ub.whitespace=Sb,Ub.value=Tb,Rb.expect("open");var Vb=this._parseCloseText();return Ub.addChild(Vb),Rb.expect("close"),Ub},Pa.prototype._parseCond=Pa.prototype._parseCloseText=function(){return this._parseText("close")},Pa.prototype._parseOpenText=function(){return this._parseText("open")},Pa.prototype._parseText=function(Wb){for(var Zb,Xb=new Na(Wb+"-text"),Yb=!1;;)if(Zb=this._parseAtom()||this._parseCall())Yb&&(Zb.whitespace|=Yb),Xb.addChild(Zb);else{if(!this._lexer.accept("open"))break;Zb=this._parseCloseText(),Yb=this._lexer.get().whitespace,Zb.whitespace=Yb,Xb.addChild(Zb),this._lexer.expect("close"),Yb=this._lexer.get().whitespace}return Xb};var Sa={ordinary:{tokenType:"ordinary"},math:{tokenType:"math"},special:{tokenType:"special"},"cond-symbol":{tokenType:"func",tokenValues:["and","or","not","true","false","to","downto"]},"quote-symbol":{tokenType:"quote"},"sizing-dclr":{tokenType:"func",tokenValues:["tiny","scriptsize","footnotesize","small","normalsize","large","Large","LARGE","huge","Huge"]},"font-dclr":{tokenType:"func",tokenValues:["normalfont","rmfamily","sffamily","ttfamily","upshape","itshape","slshape","scshape","bfseries","mdseries","lfseries"]},"font-cmd":{tokenType:"func",tokenValues:["textnormal","textrm","textsf","texttt","textup","textit","textsl","textsc","uppercase","lowercase","textbf","textmd","textlf"]},"text-symbol":{tokenType:"func",tokenValues:["textbackslash"]}};Pa.prototype._parseAtom=function(){for(var $b in Sa){var _b=Sa[$b],ac=this._lexer.accept(_b.tokenType,_b.tokenValues);if(null!==ac){var bc=this._lexer.get().whitespace;return"ordinary"!==$b&&"math"!==$b&&(ac=ac.toLowerCase()),new Oa($b,ac,bc)}}return null},Ja.exports=Pa},{"./ParseError":3,"./utils":6}],5:[function(cc,dc,ec){var fc=cc("./utils");function gc(mc){this._css={},this._fontSize=this._outerFontSize=void 0!==mc?mc:1}function hc(vc,wc){this._nodes=vc,this._textStyle=wc}function ic(){this._body=[],this._textBuf=[]}gc.prototype.outerFontSize=function(nc){return void 0!==nc&&(this._outerFontSize=nc),this._outerFontSize},gc.prototype.fontSize=function(){return this._fontSize},gc.prototype._fontCommandTable={normalfont:{"font-family":"KaTeX_Main"},rmfamily:{"font-family":"KaTeX_Main"},sffamily:{"font-family":"KaTeX_SansSerif"},ttfamily:{"font-family":"KaTeX_Typewriter"},bfseries:{"font-weight":"bold"},mdseries:{"font-weight":"medium"},lfseries:{"font-weight":"lighter"},upshape:{"font-style":"normal","font-variant":"normal"},itshape:{"font-style":"italic","font-variant":"normal"},scshape:{"font-style":"normal","font-variant":"small-caps"},slshape:{"font-style":"oblique","font-variant":"normal"},textnormal:{"font-family":"KaTeX_Main"},textrm:{"font-family":"KaTeX_Main"},textsf:{"font-family":"KaTeX_SansSerif"},texttt:{"font-family":"KaTeX_Typewriter"},textbf:{"font-weight":"bold"},textmd:{"font-weight":"medium"},textlf:{"font-weight":"lighter"},textup:{"font-style":"normal","font-variant":"normal"},textit:{"font-style":"italic","font-variant":"normal"},textsc:{"font-style":"normal","font-variant":"small-caps"},textsl:{"font-style":"oblique","font-variant":"normal"},uppercase:{"text-transform":"uppercase"},lowercase:{"text-transform":"lowercase"}},gc.prototype._sizingScalesTable={tiny:.68,scriptsize:.8,footnotesize:.85,small:.92,normalsize:1,large:1.17,Large:1.41,LARGE:1.58,huge:1.9,Huge:2.28},gc.prototype.updateByCommand=function(oc){var pc=this._fontCommandTable[oc];if(void 0===pc){var rc=this._sizingScalesTable[oc];if(void 0!==rc)return this._outerFontSize=this._fontSize,void(this._fontSize=rc);throw new ParserError("unrecogniazed text-style command")}for(var qc in pc)this._css[qc]=pc[qc]},gc.prototype.toCSS=function(){var sc="";for(var tc in this._css){var uc=this._css[tc];void 0!==uc&&(sc+=tc+":"+uc+";")}return this._fontSize!==this._outerFontSize&&(sc+="font-size:"+this._fontSize/this._outerFontSize+"em;"),sc},hc.prototype._renderCloseText=function(xc){var yc=new gc(this._textStyle.fontSize()),zc=new hc(xc.children,yc);xc.whitespace&&this._html.putText(" "),this._html.putSpan(zc.renderToHTML())},hc.prototype.renderToHTML=function(){var Ac;for(this._html=new ic;void 0!==(Ac=this._nodes.shift());){var Bc=Ac.type,Cc=Ac.value;switch(Ac.whitespace&&this._html.putText(" "),Bc){case"ordinary":this._html.putText(Cc);break;case"math":if(!katex)try{katex=cc("katex")}catch(Pc){throw"katex is required to render math"}var Dc=katex.renderToString(Cc);this._html.putSpan(Dc);break;case"cond-symbol":this._html.beginSpan("ps-keyword").putText(Cc.toLowerCase()).endSpan();break;case"special":if("\\\\"===Cc){this._html.putHTML("<br/>");break}var Fc={"\\{":"{","\\}":"}","\\$":"$","\\&":"&","\\#":"#","\\%":"%","\\_":"_"}[Cc];this._html.putText(Fc);break;case"text-symbol":var Hc={textbackslash:"\\"}[Cc];this._html.putText(Hc);break;case"quote-symbol":var Jc={"`":"‘","``":"“","'":"’","''":"”"}[Cc];this._html.putText(Jc);break;case"call":this._html.beginSpan("ps-funcname").putText(Cc).endSpan(),this._html.write("(");var Kc=Ac.children[0];this._renderCloseText(Kc),this._html.write(")");break;case"close-text":this._renderCloseText(Ac);break;case"font-dclr":case"sizing-dclr":this._textStyle.updateByCommand(Cc),this._html.beginSpan(null,this._textStyle.toCSS());var Lc=new hc(this._nodes,this._textStyle);this._html.putSpan(Lc.renderToHTML()),this._html.endSpan();break;case"font-cmd":var Mc=this._nodes[0];if("close-text"!==Mc.type)continue;var Nc=new gc(this._textStyle.fontSize());Nc.updateByCommand(Cc),this._html.beginSpan(null,Nc.toCSS());var Oc=new hc(Mc.children,Nc);this._html.putSpan(Oc.renderToHTML()),this._html.endSpan();break;default:throw new ParseError("Unexpected ParseNode of type "+Ac.type)}}return this._html.toMarkup()},ic.prototype.beginDiv=function(Qc,Rc,Sc){return this._beginTag("div",Qc,Rc,Sc),this._body.push("\n"),this},ic.prototype.endDiv=function(){return this._endTag("div"),this._body.push("\n"),this},ic.prototype.beginP=function(Tc,Uc,Vc){return this._beginTag("p",Tc,Uc,Vc),this._body.push("\n"),this},ic.prototype.endP=function(){return this._flushText(),this._endTag("p"),this._body.push("\n"),this},ic.prototype.beginSpan=function(Wc,Xc,Yc){return this._flushText(),this._beginTag("span",Wc,Xc,Yc)},ic.prototype.endSpan=function(){return this._flushText(),this._endTag("span")},ic.prototype.putHTML=ic.prototype.putSpan=function(Zc){return this._flushText(),this._body.push(Zc),this},ic.prototype.putText=function($c){return this._textBuf.push($c),this},ic.prototype.write=function(_c){this._body.push(_c)},ic.prototype.toMarkup=function(){return this._flushText(),this._body.join("").trim()},ic.prototype.toDOM=function(){var bd=this.toMarkup(),cd=document.createElement("div");return cd.innerHTML=bd,cd.firstChild},ic.prototype._flushText=function(){if(0!==this._textBuf.length){var dd=this._textBuf.join("");this._body.push(this._escapeHtml(dd)),this._textBuf=[]}},ic.prototype._beginTag=function(ed,fd,gd,hd){var id="<"+ed;if(fd&&(id+=' class="'+fd+'"'),gd){var jd;if(fc.isString(gd))jd=gd;else for(var kd in jd="",gd)attrVal=gd[kd],jd+=kd+":"+attrVal+";";hd&&(jd+=hd),id+=' style="'+jd+'"'}return id+=">",this._body.push(id),this},ic.prototype._endTag=function(ld){return this._body.push("</"+ld+">"),this};var jc={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function kc(od){od=od||{},this.indentSize=od.indentSize?this._parseEmVal(od.indentSize):1.2,this.commentDelimiter=od.commentDelimiter||" // ",this.lineNumberPunc=od.lineNumberPunc||":",this.lineNumber=void 0!==od.lineNumber&&od.lineNumber,this.noEnd=void 0!==od.noEnd&&od.noEnd,void 0!==od.captionCount&&(lc.captionCount=od.captionCount)}function lc(qd,rd){this._root=qd.parse(),this._options=new kc(rd),this._openLine=!1,this._blockLevel=0,this._textLevel=-1,this._globalTextStyle=new gc}ic.prototype._escapeHtml=function(md){return String(md).replace(/[&<>"'\/]/g,function(nd){return jc[nd]})},kc.prototype._parseEmVal=function(pd){if((pd=pd.trim()).indexOf("em")!==pd.length-2)throw"option unit error; no `em` found";return Number(pd.substring(0,pd.length-2))},lc.captionCount=0,lc.prototype.toMarkup=function(){var sd=this._html=new ic;return this._buildTree(this._root),delete this._html,sd.toMarkup()},lc.prototype.toDOM=function(){var td=this.toMarkup(),ud=document.createElement("div");return ud.innerHTML=td,ud.firstChild},lc.prototype._beginGroup=function(vd,wd,xd){this._closeLineIfAny(),this._html.beginDiv("ps-"+vd+(wd?" "+wd:""),xd)},lc.prototype._endGroup=function(yd){this._closeLineIfAny(),this._html.endDiv()},lc.prototype._beginBlock=function(){var zd=this._options.lineNumber&&0===this._blockLevel?.6:0,Ad=this._options.indentSize+zd;this._beginGroup("block",null,{"margin-left":Ad+"em"}),this._blockLevel++},lc.prototype._endBlock=function(){this._closeLineIfAny(),this._endGroup(),this._blockLevel--},lc.prototype._newLine=function(){this._closeLineIfAny(),this._openLine=!0,this._globalTextStyle.outerFontSize(1);var Bd=this._options.indentSize;0<this._blockLevel?(this._numLOC++,this._html.beginP("ps-line ps-code",this._globalTextStyle.toCSS()),this._options.lineNumber&&this._html.beginSpan("ps-linenum",{left:-(this._blockLevel-1)*(1.25*Bd)+"em"}).putText(this._numLOC+this._options.lineNumberPunc).endSpan()):this._html.beginP("ps-line",{"text-indent":-Bd+"em","padding-left":Bd+"em"},this._globalTextStyle.toCSS())},lc.prototype._closeLineIfAny=function(){this._openLine&&(this._html.endP(),this._openLine=!1)},lc.prototype._typeKeyword=function(Cd){this._html.beginSpan("ps-keyword").putText(Cd).endSpan()},lc.prototype._typeFuncName=function(Dd){this._html.beginSpan("ps-funcname").putText(Dd).endSpan()},lc.prototype._typeText=function(Ed){this._html.write(Ed)},lc.prototype._buildTreeForAllChildren=function(Fd){for(var Gd=Fd.children,Hd=0;Hd<Gd.length;Hd++)this._buildTree(Gd[Hd])},lc.prototype._buildCommentsFromBlock=function(Id){for(var Jd=Id.children;0<Jd.length&&"comment"===Jd[0].type;){var Kd=Jd.shift();this._buildTree(Kd)}},lc.prototype._buildTree=function(Ld){var Md,Nd,Od;switch(Ld.type){case"root":this._beginGroup("root"),this._buildTreeForAllChildren(Ld),this._endGroup();break;case"algorithm":var Pd;for(Md=0;Md<Ld.children.length;Md++)"caption"===(Nd=Ld.children[Md]).type&&(Pd=Nd,lc.captionCount++);for(Pd?(this._beginGroup("algorithm","with-caption"),this._buildTree(Pd)):this._beginGroup("algorithm"),Md=0;Md<Ld.children.length;Md++)"caption"!==(Nd=Ld.children[Md]).type&&this._buildTree(Nd);this._endGroup();break;case"algorithmic":this._options.lineNumber?(this._beginGroup("algorithmic","with-linenum"),this._numLOC=0):this._beginGroup("algorithmic"),this._buildTreeForAllChildren(Ld),this._endGroup();break;case"block":this._beginBlock(),this._buildTreeForAllChildren(Ld),this._endBlock();break;case"function":var Qd=Ld.value.type.toLowerCase(),Rd=Ld.value.name;Od=Ld.children[0];var Sd=Ld.children[1];this._newLine(),this._typeKeyword(Qd+" "),this._typeFuncName(Rd),this._typeText("("),this._buildTree(Od),this._typeText(")"),this._buildCommentsFromBlock(Sd),this._buildTree(Sd),this._options.noEnd||(this._newLine(),this._typeKeyword("end "+Qd));break;case"if":this._newLine(),this._typeKeyword("if "),ifCond=Ld.children[0],this._buildTree(ifCond),this._typeKeyword(" then");var Td=Ld.children[1];this._buildCommentsFromBlock(Td),this._buildTree(Td);for(var Ud=Ld.value.numElif,Vd=0;Vd<Ud;Vd++){this._newLine(),this._typeKeyword("else if ");var Wd=Ld.children[2+2*Vd];this._buildTree(Wd),this._typeKeyword(" then");var Xd=Ld.children[2+2*Vd+1];this._buildCommentsFromBlock(Xd),this._buildTree(Xd)}if(Ld.value.hasElse){this._newLine(),this._typeKeyword("else");var Zd=Ld.children[Ld.children.length-1];this._buildCommentsFromBlock(Zd),this._buildTree(Zd)}this._options.noEnd||(this._newLine(),this._typeKeyword("end if"));break;case"loop":this._newLine();var $d=Ld.value;this._typeKeyword({for:"for",forall:"for all",while:"while"}[$d]+" ");var ae=Ld.children[0];this._buildTree(ae),this._typeKeyword(" do");var be=Ld.children[1];if(this._buildCommentsFromBlock(be),this._buildTree(be),!this._options.noEnd){this._newLine();var ce="while"===$d?"end while":"end for";this._typeKeyword(ce)}break;case"repeat":this._newLine(),this._typeKeyword("repeat");var de=Ld.children[0];if(this._buildCommentsFromBlock(de),this._buildTree(de),!this._options.noEnd){this._newLine(),this._typeKeyword("until ");var ee=Ld.children[1];this._buildTree(ee)}break;case"command":var ge={state:"",ensure:"Ensure: ",require:"Require: ",input:"Input: ",output:"Output: ",print:"print ",return:"return "}[Ld.value];this._newLine(),ge&&this._typeKeyword(ge),Od=Ld.children[0],this._buildTree(Od);break;case"caption":this._newLine(),this._typeKeyword("Algorithm "+lc.captionCount+" "),Od=Ld.children[0],this._buildTree(Od);break;case"comment":Od=Ld.children[0],this._html.beginSpan("ps-comment"),this._html.putText(this._options.commentDelimiter),this._buildTree(Od),this._html.endSpan();break;case"open-text":var he=new hc(Ld.children,this._globalTextStyle);this._html.putSpan(he.renderToHTML());break;case"close-text":var je=new gc(this._globalTextStyle.fontSize()),ke=new hc(Ld.children,je);this._html.putSpan(ke.renderToHTML());break;default:throw new ParseError("Unexpected ParseNode of type "+Ld.type)}},dc.exports=lc},{"./utils":6,katex:void 0}],6:[function(le,me,ne){function pe(se){return"object"==typeof se&&se instanceof Object}me.exports={isString:function(re){return"string"==typeof re||re instanceof String},isObject:pe,toString:function qe(te){if(!pe(te))return te+"";var ue=[];for(var ve in te)ue.push(ve+": "+qe(te[ve]));return ue.join(", ")}}},{}]},{},[1])(1)});
